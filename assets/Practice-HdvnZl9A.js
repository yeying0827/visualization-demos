import{_ as R,l as _,y as S,f as z,s as B,o as C,c as E,b as f,z as M,F as j,q as F,p as P,a as b,u as q}from"./index-j31-AAIX.js";const H=s=>(P("data-v-684c4159"),s=s(),b(),s),L=H(()=>f("h3",null,"课后练习：局部放大器",-1)),N={__name:"Practice",setup(s){const n=_(null),a=_(null),x=_(null);let e=40,t=5;const h=S({left:0,top:0});return z(()=>{const w=n.value.getContext("2d"),p=a.value.getContext("2d");(async function(){const i=await B(F);n.value.width=i.width,n.value.height=i.height,w.drawImage(i,0,0);const{top:y,left:k,width:V,height:X}=n.value.getBoundingClientRect();a.value.width=e*t,a.value.height=e*t;const D=I=>{const l={x:Math.floor(I.pageX-k),y:Math.floor(I.pageY-y)},r=q(i,[l.x-e/2,l.y-e/2,e,e]),o=p.createImageData(a.value.width,a.value.height);let c=0;for(let d=0;d<e*t;d+=t)for(let g=0;g<e*t;g+=t){for(let m=d;m<d+t;m++)for(let v=g;v<g+t;v++){const u=(m*e*t+v)*4;o.data[u]=r.data[c],o.data[u+1]=r.data[c+1],o.data[u+2]=r.data[c+2],o.data[u+3]=r.data[c+3]}c+=4}p.putImageData(o,0,0),h.top=l.y-e*t/2+"px",h.left=l.x-e*t/2+"px"};(()=>{x.value.addEventListener("mousemove",D)})()})()}),(w,p)=>(C(),E(j,null,[L,f("div",{class:"canvas-container",ref_key:"containerRef",ref:x},[f("canvas",{ref_key:"canvasRef",ref:n,width:"0",height:"0"},null,512),f("canvas",{ref_key:"magnifier",ref:a,width:"0",height:"0",id:"magnifier",style:M(h)},null,4)],512)],64))}},G=R(N,[["__scopeId","data-v-684c4159"]]);export{G as default};
