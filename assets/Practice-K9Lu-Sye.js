import{_ as B,y as _,J as E,f as R,D as S,o as C,c as z,b as u,K as M,F as j,B as F,p as P,a as b,E as H}from"./index-bF0I-6KF.js";const J=s=>(P("data-v-684c4159"),s=s(),b(),s),K=J(()=>u("h3",null,"课后练习：局部放大器",-1)),L={__name:"Practice",setup(s){const n=_(null),a=_(null),x=_(null);let e=40,t=5;const h=E({left:0,top:0});return R(()=>{const w=n.value.getContext("2d"),p=a.value.getContext("2d");(async function(){const i=await S(F);n.value.width=i.width,n.value.height=i.height,w.drawImage(i,0,0);const{top:y,left:D,width:N,height:V}=n.value.getBoundingClientRect();a.value.width=e*t,a.value.height=e*t;const k=I=>{const l={x:Math.floor(I.pageX-D),y:Math.floor(I.pageY-y)},r=H(i,[l.x-e/2,l.y-e/2,e,e]),o=p.createImageData(a.value.width,a.value.height);let c=0;for(let d=0;d<e*t;d+=t)for(let g=0;g<e*t;g+=t){for(let m=d;m<d+t;m++)for(let v=g;v<g+t;v++){const f=(m*e*t+v)*4;o.data[f]=r.data[c],o.data[f+1]=r.data[c+1],o.data[f+2]=r.data[c+2],o.data[f+3]=r.data[c+3]}c+=4}p.putImageData(o,0,0),h.top=l.y-e*t/2+"px",h.left=l.x-e*t/2+"px"};(()=>{x.value.addEventListener("mousemove",k)})()})()}),(w,p)=>(C(),z(j,null,[K,u("div",{class:"canvas-container",ref_key:"containerRef",ref:x},[u("canvas",{ref_key:"canvasRef",ref:n,width:"0",height:"0"},null,512),u("canvas",{ref_key:"magnifier",ref:a,width:"0",height:"0",id:"magnifier",style:M(h)},null,4)],512)],64))}},q=B(L,[["__scopeId","data-v-684c4159"]]);export{q as default};
