import{l as R,g as S}from"./ImageHandler-5dxAiF35.js";import{g as B}from"./girl1-zwAbMbEm.js";import{_ as C,r as _,g as E,o as z,a as M,c as j,b as h,h as F,F as P,p as b,f as H}from"./index-a4tGsWeP.js";const L=s=>(b("data-v-684c4159"),s=s(),H(),s),N=L(()=>h("h3",null,"课后练习：局部放大器",-1)),V={__name:"Practice",setup(s){const o=_(null),a=_(null),x=_(null);let e=40,t=5;const u=E({left:0,top:0});return z(()=>{const w=o.value.getContext("2d"),m=a.value.getContext("2d");(async function(){const i=await R(B);o.value.width=i.width,o.value.height=i.height,w.drawImage(i,0,0);const{top:y,left:k,width:X,height:Y}=o.value.getBoundingClientRect();a.value.width=e*t,a.value.height=e*t;const D=I=>{const l={x:Math.floor(I.pageX-k),y:Math.floor(I.pageY-y)},r=S(i,[l.x-e/2,l.y-e/2,e,e]),n=m.createImageData(a.value.width,a.value.height);let c=0;for(let d=0;d<e*t;d+=t)for(let g=0;g<e*t;g+=t){for(let p=d;p<d+t;p++)for(let v=g;v<g+t;v++){const f=(p*e*t+v)*4;n.data[f]=r.data[c],n.data[f+1]=r.data[c+1],n.data[f+2]=r.data[c+2],n.data[f+3]=r.data[c+3]}c+=4}m.putImageData(n,0,0),u.top=l.y-e*t/2+"px",u.left=l.x-e*t/2+"px"};(()=>{x.value.addEventListener("mousemove",D)})()})()}),(w,m)=>(M(),j(P,null,[N,h("div",{class:"canvas-container",ref_key:"containerRef",ref:x},[h("canvas",{ref_key:"canvasRef",ref:o,width:"0",height:"0"},null,512),h("canvas",{ref_key:"magnifier",ref:a,width:"0",height:"0",id:"magnifier",style:F(u)},null,4)],512)],64))}},K=C(V,[["__scopeId","data-v-684c4159"]]);export{K as default};
