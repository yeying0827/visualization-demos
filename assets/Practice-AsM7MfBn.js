import{_ as R,k as _,x as S,f as B,m as C,o as E,c as z,b as u,y as M,F as j,p as F,a as P,q as b}from"./index-jvjASubQ.js";const q=c=>(F("data-v-8683a1f1"),c=c(),P(),c),H=q(()=>u("h3",null,"课后练习：局部放大器",-1)),L={__name:"Practice",setup(c){const n=_(null),a=_(null),x=_(null);let e=40,t=5;const h=S({left:0,top:0});return B(()=>{const w=n.value.getContext("2d"),m=a.value.getContext("2d");(async function(){const i=await C("src/assets/girl1.jpg");n.value.width=i.width,n.value.height=i.height,w.drawImage(i,0,0);const{top:y,left:k,width:N,height:V}=n.value.getBoundingClientRect();a.value.width=e*t,a.value.height=e*t;const D=I=>{const l={x:Math.floor(I.pageX-k),y:Math.floor(I.pageY-y)},r=b(i,[l.x-e/2,l.y-e/2,e,e]),o=m.createImageData(a.value.width,a.value.height);let s=0;for(let d=0;d<e*t;d+=t)for(let f=0;f<e*t;f+=t){for(let p=d;p<d+t;p++)for(let v=f;v<f+t;v++){const g=(p*e*t+v)*4;o.data[g]=r.data[s],o.data[g+1]=r.data[s+1],o.data[g+2]=r.data[s+2],o.data[g+3]=r.data[s+3]}s+=4}m.putImageData(o,0,0),h.top=l.y-e*t/2+"px",h.left=l.x-e*t/2+"px"};(()=>{x.value.addEventListener("mousemove",D)})()})()}),(w,m)=>(E(),z(j,null,[H,u("div",{class:"canvas-container",ref_key:"containerRef",ref:x},[u("canvas",{ref_key:"canvasRef",ref:n,width:"0",height:"0"},null,512),u("canvas",{ref_key:"magnifier",ref:a,width:"0",height:"0",id:"magnifier",style:M(h)},null,4)],512)],64))}},A=R(L,[["__scopeId","data-v-8683a1f1"]]);export{A as default};
